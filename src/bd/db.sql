-- Active: 1760955899412@@127.0.0.1@3306@aeropuertos
DROP DATABASE IF EXISTS aeropuertos;
CREATE DATABASE IF NOT EXISTS aeropuertos;
USE aeropuertos;

-- DROP TABLE ciudad;
CREATE TABLE ciudad(
    id_ciudad INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    pais VARCHAR(100) NOT NULL,
    poblacion INT NOT NULL,
    zona_horaria VARCHAR(100) NOT NULL,
    latitud DECIMAL NOT NULL,
    longitud DECIMAL NOT NULL,
    elevacion INT NOT NULL,
    anyo_fundacion INT NOT NULL
);

-- DROP TABLE aeropuerto;
CREATE TABLE aeropuerto(
    id_aeropuerto INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    codigo VARCHAR(100) NOT NULL,
    ciudadId INT NOT NULL,
    tipo ENUM("Internacional","Domestico","Regional") NOT NULL,
    latitud DECIMAL NOT NULL,
    longitud DECIMAL NOT NULL,
    elevacion INT NOT NULL,
    terminal INT NOT NULL,
    anyo_apertura INT NOT NULL,
    FOREIGN KEY (ciudadId) REFERENCES ciudad(id_ciudad)
);

-- Tabla relación aeropuertos sin escalas
CREATE TABLE conexionesSinEscalas(
    id_aeropuertoOrigen INT,
    id_aeropuertoDestino INT,

    PRIMARY KEY (id_aeropuertoOrigen, id_aeropuertoDestino),
    FOREIGN KEY (id_aeropuertoOrigen) REFERENCES aeropuerto(id_aeropuerto),
    FOREIGN KEY (id_aeropuertoDestino) REFERENCES aeropuerto(id_aeropuerto)
);

-- DELETE FROM ciudad;
INSERT INTO ciudad (nombre, pais, poblacion, zona_horaria, latitud, longitud, elevacion, anyo_fundacion) VALUES
('Madrid', 'España', 3266000, 'Europe/Madrid', 40.416775, -3.703790, 667, 1561),
('Barcelona', 'España', 1620000, 'Europe/Madrid', 41.385064, 2.173404, 12, 15),
('Valencia', 'España', 800000, 'Europe/Madrid', 39.469908, -0.376288, 15, 138),
('Sevilla', 'España', 688711, 'Europe/Madrid', 37.389092, -5.984459, 7, -206),
('Zaragoza', 'España', 675000, 'Europe/Madrid', 41.648823, -0.889085, 199, -25),
('París', 'Francia', 2148000, 'Europe/Paris', 48.856613, 2.352222, 35, -52),
('Marsella', 'Francia', 861635, 'Europe/Paris', 43.296482, 5.369780, 28, -600),
('Lyon', 'Francia', 515695, 'Europe/Paris', 45.764043, 4.835659, 162, -43),
('Toulouse', 'Francia', 479553, 'Europe/Paris', 43.604652, 1.444209, 146, -200),
('Niza', 'Francia', 340017, 'Europe/Paris', 43.710173, 7.261953, 10, -350),
('Roma', 'Italia', 2873000, 'Europe/Rome', 41.902782, 12.496366, 21, -753),
('Milán', 'Italia', 1366000, 'Europe/Rome', 45.464211, 9.191383, 120, -590),
('Nápoles', 'Italia', 962589, 'Europe/Rome', 40.851775, 14.268124, 17, -470),
('Turín', 'Italia', 870952, 'Europe/Rome', 45.070339, 7.686864, 239, -28),
('Palermo', 'Italia', 663401, 'Europe/Rome', 38.115690, 13.361486, 14, -734),
('Berlín', 'Alemania', 3769000, 'Europe/Berlin', 52.520008, 13.404954, 34, 1237),
('Múnich', 'Alemania', 1472000, 'Europe/Berlin', 48.135125, 11.581981, 519, 1158),
('Hamburgo', 'Alemania', 1841000, 'Europe/Berlin', 53.551086, 9.993682, 8, 808),
('Colonia', 'Alemania', 1086000, 'Europe/Berlin', 50.937531, 6.960279, 37, 50),
('Fráncfort', 'Alemania', 763380, 'Europe/Berlin', 50.110924, 8.682127, 112, 794),
('Ámsterdam', 'Países Bajos', 872757, 'Europe/Amsterdam', 52.367573, 4.904138, -2, 1275),
('Róterdam', 'Países Bajos', 651446, 'Europe/Amsterdam', 51.922500, 4.479170, -6, 1270),
('Londres', 'Reino Unido', 8982000, 'Europe/London', 51.507351, -0.127758, 11, 47),
('Manchester', 'Reino Unido', 553230, 'Europe/London', 53.480759, -2.242631, 38, 79),
('Birmingham', 'Reino Unido', 1141816, 'Europe/London', 52.486244, -1.890401, 140, 600),
('Glasgow', 'Reino Unido', 635640, 'Europe/London', 55.864237, -4.251806, 40, 543),
('Dublín', 'Irlanda', 554554, 'Europe/Dublin', 53.349805, -6.260310, 20, 841),
('Zúrich', 'Suiza', 402762, 'Europe/Zurich', 47.376887, 8.541694, 408, 1218),
('Ginebra', 'Suiza', 201818, 'Europe/Zurich', 46.204391, 6.143158, 375, 121),
('Viena', 'Austria', 1897000, 'Europe/Vienna', 48.208176, 16.373819, 171, 500),
('Oslo', 'Noruega', 634293, 'Europe/Oslo', 59.913868, 10.752245, 23, 1048),
('Lisboa', 'Portugal', 504718, 'Europe/Lisbon', 38.722252, -9.139337, 45, 1147),
('Oporto', 'Portugal', 231962, 'Europe/Lisbon', 41.157944, -8.629105, 104, 1123),
('Copenhague', 'Dinamarca', 799033, 'Europe/Copenhagen', 55.676098, 12.568337, 14, 1167),
('Estocolmo', 'Suecia', 975551, 'Europe/Stockholm', 59.329323, 18.068581, 28, 1252),
('Helsinki', 'Finlandia', 658864, 'Europe/Helsinki', 60.169856, 24.938379, 28, 1550),
('Varsovia', 'Polonia', 1793579, 'Europe/Warsaw', 52.229676, 21.012229, 100, 1300),
('Praga', 'República Checa', 1309000, 'Europe/Prague', 50.075538, 14.437800, 200, 870),
('Bratislava', 'Eslovaquia', 475503, 'Europe/Bratislava', 48.148596, 17.107748, 140, 907),
('Budapest', 'Hungría', 1756000, 'Europe/Budapest', 47.497913, 19.040236, 96, 896),
('Bucarest', 'Rumanía', 1836000, 'Europe/Bucharest', 44.426767, 26.102538, 70, 1459),
('Sofía', 'Bulgaria', 1258000, 'Europe/Sofia', 42.697708, 23.321868, 550, -700),
('Atenas', 'Grecia', 664046, 'Europe/Athens', 37.983810, 23.727539, 70, -1400),
('Zagreb', 'Croacia', 806341, 'Europe/Zagreb', 45.815011, 15.981919, 122, 1094),
('Belgrado', 'Serbia', 1216000, 'Europe/Belgrade', 44.786568, 20.448922, 117, 279),
('Sarajevo', 'Bosnia y Herzegovina', 275524, 'Europe/Sarajevo', 43.856259, 18.413076, 518, 1461),
('Ljubljana', 'Eslovenia', 295504, 'Europe/Ljubljana', 46.056947, 14.505751, 295, 1112),
('Tallin', 'Estonia', 445341, 'Europe/Tallinn', 59.436962, 24.753574, 9, 1219),
('Riga', 'Letonia', 632614, 'Europe/Riga', 56.949649, 24.105186, 6, 1201),
('Vilna', 'Lituania', 588412, 'Europe/Vilnius', 54.687157, 25.279652, 112, 1323);

-- DELETE FROM aeropuerto;
INSERT INTO aeropuerto (nombre, codigo, ciudadId, tipo, latitud, longitud, elevacion, terminal, anyo_apertura) VALUES
('Aeropuerto Adolfo Suárez Madrid-Barajas', 'MAD', 1, 'Internacional', 40.472222, -3.560833, 610, 4, 1931),
('Aeropuerto de Barcelona-El Prat', 'BCN', 2, 'Internacional', 41.297078, 2.078464, 12, 2, 1918),
('Aeropuerto de Valencia-Manises', 'VLC', 3, 'Internacional', 39.489314, -0.481625, 69, 1, 1933),
('Aeropuerto de Sevilla-San Pablo', 'SVQ', 4, 'Internacional', 37.417999, -5.893106, 34, 1, 1945),
('Aeropuerto de Zaragoza', 'ZAZ', 5, 'Domestico', 41.666222, -1.041553, 263, 1, 1947),
('Aeropuerto Charles de Gaulle', 'CDG', 6, 'Internacional', 49.009724, 2.547778, 119, 3, 1974),
('Aeropuerto de Marsella-Provenza', 'MRS', 7, 'Internacional', 43.439271, 5.221424, 22, 2, 1922),
('Aeropuerto de Lyon-Saint Exupéry', 'LYS', 8, 'Internacional', 45.725556, 5.081111, 250, 2, 1975),
('Aeropuerto de Toulouse-Blagnac', 'TLS', 9, 'Internacional', 43.629075, 1.363819, 499, 1, 1939),
('Aeropuerto de Niza-Costa Azul', 'NCE', 10, 'Internacional', 43.658411, 7.215872, 4, 2, 1946),
('Aeropuerto de Roma-Fiumicino Leonardo da Vinci', 'FCO', 11, 'Internacional', 41.800278, 12.238889, 4, 4, 1961),
('Aeropuerto de Milán-Malpensa', 'MXP', 12, 'Internacional', 45.630606, 8.728111, 234, 2, 1948),
('Aeropuerto de Nápoles-Capodichino', 'NAP', 13, 'Internacional', 40.886003, 14.290781, 90, 1, 1910),
('Aeropuerto de Turín-Caselle', 'TRN', 14, 'Internacional', 45.200833, 7.649722, 301, 1, 1953),
('Aeropuerto de Palermo-Punta Raisi', 'PMO', 15, 'Internacional', 38.175958, 13.091019, 21, 1, 1960),
('Aeropuerto de Berlín Brandeburgo', 'BER', 16, 'Internacional', 52.366667, 13.503333, 47, 2, 2020),
('Aeropuerto de Múnich-Franz Josef Strauss', 'MUC', 17, 'Internacional', 48.353783, 11.786086, 448, 2, 1992),
('Aeropuerto de Hamburgo', 'HAM', 18, 'Internacional', 53.630389, 9.988228, 53, 2, 1911),
('Aeropuerto de Colonia/Bonn', 'CGN', 19, 'Internacional', 50.865917, 7.142744, 92, 2, 1938),
('Aeropuerto de Fráncfort del Meno', 'FRA', 20, 'Internacional', 50.033333, 8.570556, 111, 4, 1936),
('Aeropuerto de Ámsterdam-Schiphol', 'AMS', 21, 'Internacional', 52.308613, 4.763889, -3, 6, 1916),
('Aeropuerto de Róterdam-La Haya', 'RTM', 22, 'Domestico', 51.956944, 4.437222, -5, 1, 1956),
('Aeropuerto de Londres-Heathrow', 'LHR', 23, 'Internacional', 51.470020, -0.454295, 25, 5, 1946),
('Aeropuerto de Manchester', 'MAN', 24, 'Internacional', 53.365000, -2.272778, 78, 3, 1938),
('Aeropuerto de Birmingham', 'BHX', 25, 'Internacional', 52.453856, -1.748028, 100, 2, 1939),
('Aeropuerto de Glasgow', 'GLA', 26, 'Internacional', 55.871944, -4.433056, 8, 2, 1966),
('Aeropuerto de Dublín', 'DUB', 27, 'Internacional', 53.421389, -6.270000, 74, 2, 1940),
('Aeropuerto de Zúrich', 'ZRH', 28, 'Internacional', 47.458056, 8.548056, 432, 3, 1953),
('Aeropuerto de Ginebra', 'GVA', 29, 'Internacional', 46.238056, 6.109444, 430, 1, 1919),
('Aeropuerto Internacional de Viena-Schwechat', 'VIE', 30, 'Internacional', 48.110278, 16.569722, 183, 3, 1954),
('Aeropuerto de Oslo-Gardermoen', 'OSL', 31, 'Internacional', 60.197500, 11.100000, 208, 2, 1998),
('Aeropuerto Humberto Delgado (Lisboa-Portela)', 'LIS', 32, 'Internacional', 38.774167, -9.134167, 114, 2, 1942),
('Aeropuerto Francisco Sá Carneiro (Oporto)', 'OPO', 33, 'Internacional', 41.242222, -8.678056, 69, 1, 1945),
('Aeropuerto de Copenhague-Kastrup', 'CPH', 34, 'Internacional', 55.618056, 12.656111, 5, 3, 1925),
('Aeropuerto de Estocolmo-Arlanda', 'ARN', 35, 'Internacional', 59.651944, 17.918611, 42, 4, 1962),
('Aeropuerto de Helsinki-Vantaa', 'HEL', 36, 'Internacional', 60.317222, 24.963333, 55, 2, 1952),
('Aeropuerto de Varsovia-Chopin', 'WAW', 37, 'Internacional', 52.165833, 20.967222, 110, 2, 1934),
('Aeropuerto de Cracovia-Balice', 'KRK', 38, 'Internacional', 50.077778, 19.784722, 241, 1, 1964),
('Aeropuerto de Praga-Václav Havel', 'PRG', 39, 'Internacional', 50.100833, 14.26, 380, 2, 1937),
('Aeropuerto de Bratislava-M. R. Štefánik', 'BTS', 40, 'Internacional', 48.170200, 17.212700, 133, 1, 1951),
('Aeropuerto de Budapest-Ferenc Liszt', 'BUD', 41, 'Internacional', 47.436944, 19.255556, 151, 2, 1950),
('Aeropuerto Internacional Henri Coandă (Bucarest)', 'OTP', 42, 'Internacional', 44.572222, 26.102222, 96, 2, 1970),
('Aeropuerto de Sofía', 'SOF', 43, 'Internacional', 42.695000, 23.408000, 531, 2, 1937),
('Aeropuerto Internacional de Atenas-Eleftherios Venizelos', 'ATH', 44, 'Internacional', 37.936389, 23.944444, 94, 2, 2001),
('Aeropuerto de Zagreb', 'ZAG', 45, 'Internacional', 45.742900, 16.068800, 108, 1, 1962),
('Aeropuerto Nikola Tesla de Belgrado', 'BEG', 46, 'Internacional', 44.818444, 20.309139, 102, 2, 1962),
('Aeropuerto Internacional de Sarajevo', 'SJJ', 47, 'Internacional', 43.824583, 18.331389, 511, 1, 1969),
('Aeropuerto de Liubliana-Jože Pučnik', 'LJU', 48, 'Internacional', 46.223611, 14.457500, 388, 1, 1963),
('Aeropuerto de Tallin-Lennart Meri', 'TLL', 49, 'Internacional', 59.413317, 24.832844, 40, 1, 1936),
('Aeropuerto Internacional de Riga', 'RIX', 50, 'Internacional', 56.923611, 23.971111, 11, 1, 1973);

INSERT INTO conexionesSinEscalas (id_aeropuertoOrigen, id_aeropuertoDestino) VALUES
(1,2),(1,3),(1,4),(1,6),(1,11),(1,17),(1,20),
(1,21),(1,23),(1,32),(1,33),(2,6),(2,11),(2,12),
(2,17),(2,21),(2,23),(2,32),(3,1),(3,2),(3,6),
(4,1),(4,2),(4,32),(4,23),(5,1),(6,11),(6,12),
(6,17),(6,20),(6,21),(6,23),(6,32),(6,35),(7,6),
(7,2),(8,6),(9,6),(10,6),(11,6),(11,12),(11,17),
(11,20),(11,21),(11,23),(12,11),(12,23),(12,6),
(13,11),(14,11),(15,11),(16,20),(16,17),(16,6),
(16,23),(17,20),(17,21),(17,23),(17,6),(18,20),
(19,20),(20,21),(20,6),(20,23),(20,11),(21,6),
(21,23),(21,17),(21,20),(21,11),(21,32),(22,21),
(23,1),(23,2),(23,6),(23,11),(23,17),(23,20),
(23,21),(24,1),(24,6),(24,11),(25,6),(25,23),
(26,23),(27,23),(27,6),(27,1),(28,6),(28,20),
(28,21),(28,23),(29,6),(29,23),(30,6),(30,20),
(30,23),(30,11),(32,1),(32,2),(32,6),(32,11),
(32,21),(32,23),(33,1),(33,6),(33,23),(34,6),
(34,21),(34,23),(35,6),(35,21),(35,23),(36,21),
(36,23),(36,6),(37,20),(37,21),(37,6),(37,23),
(39,20),(39,6),(39,23),(41,20),(41,6),(41,23),
(42,6),(42,23),(42,11),(43,6),(43,23),(43,11),
(44,6),(44,11),(44,23),(45,20),(45,6),(46,20),
(46,6),(47,6),(48,6),(49,21),(50,21);